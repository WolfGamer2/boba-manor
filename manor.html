<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Spooky Manor</title>
    <style>
      /* Full page iframe */
      iframe {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
      }
    </style>
    <script>
      // Approved haunted house pages
      const rooms = [
        "https://saumilthecode.github.io/spooktober/",
        "https://aryan9190.github.io/haunted-house/",
        "https://zabi66.github.io/Halloween-card/",
        "https://gaoyegithub.github.io/Spooky-Ocean/",
        "https://eshangonemad.github.io/Hallooweeeeen/",
        "https://pizzalover125.github.io/nightmare/",
        "https://sillywilly21.github.io/spookydookie/index.html",
        "https://aaronsfunstuff.github.io/aarons-spooky-corner-/",
        "https://actuallymed.github.io/bobamanor/",
        "https://neongamerbot-qk.github.io/spooky-boba/",
        "https://halloweenhaunter.arnav.hackclub.app/",
        "https://snipeur060.github.io/hackmanor/",
        "https://shim-sham.github.io/spooky-room/",
        "https://thomasjprice.github.io/boba-manor-submission/",
        "https://beepboopblorp.github.io/ghostie-graveyard/",
        "https://michellemeng06.github.io/chillnthrill/",
        "https://adamexu.github.io/manor",
        "https://phyotp.github.io/5k1b1d1",
        "https://sillywilly21.github.io/the_expanse/",
        "https://b3arora.github.io/spooky-boba/",
        "https://ponderslime.github.io/Boba-Manor-Submission/",
        "https://nina-1005.github.io/spooky-manor/",
        "https://spookyboba.netlify.app/",
        "https://sarveshwaran20.github.io/",
      ];

      let visitedRooms = [];

      //Fisher-Yates shuffle)
      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
      }
      
      function getNextRoom() {
        // If all rooms have been visited, reshuffle and start over
        if (visitedRooms.length === 0) {
          visitedRooms = [...rooms];
          shuffle(visitedRooms); 
        }
        return visitedRooms.shift();
      }
    </script>
  </head>
  <body>
    <iframe src="#"></iframe>

    <script>
      const room = getNextRoom();

      if (window.self === window.top) {
        document.querySelector("iframe").src = room;
      } else {
        window.location.href = room;
      }
    </script>
  </body>
</html>
